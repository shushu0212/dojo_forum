<div class="container">
  <div class="row">
    <div class="col-md-4">
      <h1><%= @topic.user.name %></h1>
    </div>
    <div class="col-md-8">
      <h1><%= @topic.title %></h1>
      <p>[<%= @topic.categories.name %>]</p>
      <%= @topic.content %></h3>
    </div>

    <div class="clearfix"></div>

    <hr>  
  </div>
</div>

<hr>

<div class="container">
  <% @topic_comments.each do |comment| %>
  <div>
    <h4><%= comment.user.email.split('@').first %></h4>
    <p><%= simple_format comment.content %></p>
    <p class="text-muted">
      <em><%= time_ago_in_words(comment.created_at) %> ago</em>
      <% if current_user.admin? || comment.user.email == current_user.email %>
        <%= link_to "Delete", topic_comment_path(@topic, comment), method: :delete, data: { confirm: "Are you sure?"}  %>
      <% end %>
    </p>
  </div>
  <hr>
  <% end %>
  <div>
    <%= paginate @topic_comments, theme: 'twitter-bootstrap-4' %>
  </div>

  <!-- 新增評論的表單輸入框 -->
  <%= form_for [@topic, @comment] do |f| %>
  <div class="form-group">
    <%= f.text_area :content, placeholder: "留個言吧", class: "form-control" %>
  </div>
  <div class="form-group">
    <%= f.submit class: "btn btn-primary" %>
    <%= f.button "Cancel", type: :reset, class: "btn btn-default" %>
  </div>
  <% end %>

  <div class="col-md-4">
    <%= link_to 'Back to index', root_path %>
  </div>

</div>



